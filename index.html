<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Spicy Library</title>

<!-- Pi SDK (OFFICIAL) -->
<script src="https://sdk.minepi.com/pi-sdk.js"></script>

<style>
body{
  background:#111;
  color:#fff;
  font-family:Arial;
  text-align:center;
  padding-top:100px;
}
button{
  padding:14px 30px;
  font-size:16px;
  border:none;
  border-radius:6px;
  cursor:pointer;
  background:#ff4500;
  color:white;
}
.hidden{display:none;}
</style>
</head>

<body>

<div id="login">
  <h1>ğŸŒ¶ï¸ Spicy Library</h1>
  <p>Login with Pi Network</p>
  <button id="loginBtn">Login with Pi</button>
</div>

<div id="app" class="hidden">
  <h2 id="welcome"></h2>
  <p>ğŸ“š Welcome to Spicy Library</p>
</div>

<script>
/* Ø§Ù†ØªØ¸Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø© + SDK */
window.onload = function(){

  if (typeof Pi === "undefined") {
    alert("Pi SDK not loaded âŒ\nOpen this site inside Pi Browser only");
    return;
  }

  Pi.init({
    version: "2.0",
    sandbox: true
  });

  document.getElementById("loginBtn").addEventListener("click", function(){

    Pi.authenticate(
      ["username","payments"],
      function(auth){
        document.getElementById("login").classList.add("hidden");
        document.getElementById("app").classList.remove("hidden");
        document.getElementById("welcome").innerText =
          "Welcome " + auth.user.username;
      },
      function(err){
        alert("Login failed");
        console.error(err);
      }
    );

  });

};
</script>

</body>
</html>
